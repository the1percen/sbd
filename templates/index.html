{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>SUBASH BUILD AND DESIGN</title>
    <link rel="stylesheet" href="{% static 'fontawesome-5.5/css/all.min.css' %}" />
    <link rel="stylesheet" href="{% static 'slick/slick.css' %}">
    <link rel="stylesheet" href="{% static 'slick/slick-theme.css' %}">
    <link rel="stylesheet" href="{% static 'magnific-popup/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/tooplate-infinite-loop.css' %}" />
    <style>
      /* Prevent zoom completely */
      * {
        touch-action: pan-y pan-x;
      }

      html {
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        touch-action: manipulation;
      }

      input, select, textarea {
        font-size: 16px !important;
      }

      /* Ensure navbar text is always visible */
      .tm-navbar .nav-link {
        color: #fff !important;
        opacity: 1 !important;
      }

      .tm-navbar.scroll .nav-link {
        color: #369 !important;
      }

      .tm-navbar .navbar-brand {
        color: #fff !important;
        opacity: 1 !important;
      }

      .tm-navbar.scroll .navbar-brand {
        color: #369 !important;
      }

      /* Dropdown Menu Styling */
      .dropdown-menu {
        background-color: #fff;
        border: 1px solid #e9ecef;
        border-radius: 5px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        display: none;
      }

      .dropdown-menu.show {
        display: block;
      }

      .dropdown-item {
        color: #369;
        padding: 10px 20px;
        transition: all 0.3s ease;
        display: block;
        text-decoration: none;
      }

      .dropdown-item:hover {
        background-color: #369;
        color: #fff;
        text-decoration: none;
      }

      .tm-navbar.scroll .dropdown-menu {
        background-color: #fff;
      }

      /* Ensure dropdown toggle is visible and clickable */
      .dropdown-toggle::after {
        display: inline-block;
        margin-left: 0.255em;
        vertical-align: 0.255em;
        content: "";
        border-top: 0.3em solid;
        border-right: 0.3em solid transparent;
        border-bottom: 0;
        border-left: 0.3em solid transparent;
      }

      /* Mobile Navigation Fixes */
      @media (max-width: 767px) {
        /* Fix navbar toggler position */
        .navbar-toggler {
          position: absolute;
          right: 15px;
          top: 15px;
          z-index: 1000;
          border-color: #fff;
        }

        .navbar-toggler-icon {
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }

        .navbar-collapse {
          background-color: rgba(255, 255, 255, 0.98);
          padding: 15px;
          border-radius: 5px;
          margin-top: 10px;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .navbar-collapse .nav-link {
          color: #369 !important;
          padding: 12px 20px !important;
          border-bottom: 1px solid #e9ecef;
        }
        
        .navbar-collapse .nav-link:hover {
          background-color: #369 !important;
          color: #fff !important;
        }
        
        .navbar-collapse .nav-item:last-child .nav-link {
          border-bottom: none;
        }

        /* Mobile Dropdown - make it always visible when parent is clicked */
        .nav-item.dropdown.show .dropdown-menu {
          display: block !important;
          position: static !important;
          float: none;
          background-color: #f8f9fa;
          border: none;
          box-shadow: none;
          padding-left: 20px;
          margin-top: 0;
        }

        .dropdown-menu {
          background-color: #f8f9fa;
          border: none;
          box-shadow: none;
          padding-left: 20px;
        }

        .dropdown-item {
          padding: 8px 20px;
          font-size: 0.95rem;
          color: #369 !important;
          cursor: pointer;
        }

        .dropdown-toggle {
          cursor: pointer;
        }

        /* Hero text responsive */
        .tm-hero-title {
          font-size: 2rem !important;
        }
        
        .tm-hero-subtitle {
          font-size: 1rem !important;
        }

        /* Section titles */
        .tm-section-title {
          font-size: 1.8rem !important;
        }

        /* Contact form */
        .tm-input {
          width: 100% !important;
        }

        .tm-btn-submit {
          width: 100% !important;
        }

        /* Gallery items spacing */
        .tm-gallery-item {
          margin: 10px 0 !important;
        }
      }

      /* Ensure gallery images are responsive */
      .tm-gallery-item img {
        width: 100%;
        height: auto;
        object-fit: cover;
      }

      /* Fix for slick slider on mobile */
      @media (max-width: 480px) {
        .slick-slide {
          padding: 0 5px;
        }
      }

      /* Gallery carousel specific styles */
      .tm-gallery.slick-initialized {
        display: block !important;
      }

      .tm-gallery .slick-slide {
        margin: 0 10px;
      }

      .tm-gallery .slick-list {
        margin: 0 -10px;
      }
    </style>
  </head>
  <body>    
    <!-- Hero section -->
    <section id="infinite" class="text-white tm-font-big tm-parallax">
      <!-- Navigation -->
<nav class="navbar navbar-expand-md tm-navbar" id="tmNav">              
  <div class="container">   
    <div class="tm-next">
      <a href="#infinite" class="navbar-brand">SUBASH BUILD AND DESIGN</a>
    </div>             
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" 
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link tm-nav-link" href="#infinite">Home</a>
        </li>

        <!-- Dropdown Menu for What We Do -->
        <li class="nav-item dropdown">
          <a class="nav-link tm-nav-link dropdown-toggle" id="navbarDropdown"
             role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            What We Do
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{% url 'interior' %}">Interior Design</a>
            <a class="dropdown-item" href="{% url 'sliding' %}">Sliding Systems</a>
          </div>
        </li>

        <li class="nav-item">
          <a class="nav-link tm-nav-link" href="#testimonials">Testimonials</a>
        </li>
        <li class="nav-item">
          <a class="nav-link tm-nav-link" href="#gallery">Gallery</a>
        </li>
        <li class="nav-item">
          <a class="nav-link tm-nav-link" href="#contact">Contact</a>
        </li>                    
      </ul>
    </div>        
  </div>
</nav>
      <div class="text-center tm-hero-text-container">
        <div class="tm-hero-text-container-inner">
            <h2 class="tm-hero-title">SUBASH BUILD AND DESIGN</h2>
            <p class="tm-hero-subtitle">
              SLIDING SYSTEM - CONSTRUCTIONS - INTERIOR SOLUTIONS
            </p>
        </div>        
      </div>

      <div class="tm-next tm-intro-next">
        <a href="#whatwedo" class="text-center tm-down-arrow-link">
          <i class="fas fa-2x fa-arrow-down tm-down-arrow"></i>
        </a>
      </div>      
    </section>

<section id="whatwedo" class="tm-section-pad-top">
  <div class="container">

    <!-- First Row -->
    <div class="row tm-content-box">
      <div class="col-lg-12 col-xl-12">
        <div class="tm-intro-text-container">
          <h2 class="tm-text-primary mb-4 tm-section-title">What We Do</h2>
          <p class="mb-4 tm-intro-text">
            At <strong>Subash Build and Design</strong>, we craft spaces that balance elegance, functionality, and durability. 
            With expertise in construction, interior design, and modern furnishing solutions, we provide 
            <em>end-to-end services</em> tailored to your lifestyle and business needs.
          </p>
        </div>
      </div>
    </div>

    <!-- Second Row -->
    <div class="row tm-content-box">
<div class="col-lg-1">
  <i class="fas fa-3x fa-building text-center tm-icon"></i>
</div>
<div class="col-lg-5">
  <div class="tm-intro-text-container">
    <h2 class="tm-text-primary mb-4">Construction</h2>
    <p class="mb-4 tm-intro-text">
      We handle both residential and commercial projects with precision and care. 
      From foundation to finishing, our team ensures quality, safety, and on-time delivery in every build.
    </p>
  </div>
</div>

      <div class="col-lg-1">
        <i class="fas fa-3x fa-couch text-center tm-icon"></i>
      </div>
      <div class="col-lg-5">
        <div class="tm-intro-text-container">
          <h2 class="tm-text-primary mb-4">Interior Solutions</h2>
          <p class="mb-4 tm-intro-text">
            Our designs bring life to interiorsâ€”modern, elegant, and functional. 
            We transform living spaces, offices, and showrooms into inspiring environments tailored to your vision.
          </p>
        </div>
      </div>
    </div>

    <!-- Third Row -->
    <div class="row tm-content-box">
      <div class="col-lg-1">
        <i class="fas fa-3x fa-sliders-h text-center tm-icon"></i>
      </div>
      <div class="col-lg-5">
        <div class="tm-intro-text-container">
          <h2 class="tm-text-primary mb-4">Sliding Systems</h2>
          <p class="mb-4 tm-intro-text">
            We provide sleek and durable sliding systems for wardrobes, doors, and partitions. 
            Perfect for modern homes and offices, our solutions save space while adding elegance.
          </p>
        </div>
      </div>

    <div class="col-lg-1">
      <i class="fas fa-3x fa-door-closed text-center tm-icon"></i>
    </div>
    <div class="col-lg-5">
      <div class="tm-intro-text-container">
        <h2 class="tm-text-primary mb-4">Sleek Partitions & Wardrobe Doors</h2>
        <p class="mb-4 tm-intro-text">
          From stylish partitions that redefine spaces to custom wardrobe doors, 
          we deliver modern, functional, and aesthetically pleasing solutions for every lifestyle.
        </p>
        <div class="tm-continue">
          <a href="#gallery" class="tm-intro-text tm-btn-primary">View Projects</a>
        </div>
      </div>
    </div>

      </div>
</section>

    
    <section id="testimonials" class="tm-section-pad-top tm-parallax-2">      
      <div class="container tm-testimonials-content">
        <div class="row">
          <div class="col-lg-12 tm-content-box">
            <h2 class="text-white text-center mb-4 tm-section-title">Testimonials</h2>
            <p class="mx-auto tm-section-desc text-center">
We believe every home and workspace deserves to be both stylish and practical. Whether it's designing interiors, or construction, or installing modern sliding doors, we focus on quality and detail. Don't just take our word for it see how our clients describe their journey with us. </p>
            <div class="mx-auto tm-gallery-container tm-gallery-container-2">
              <div class="tm-testimonials-carousel">
                {% for testimonial in testimonials %}
                <figure class="tm-testimonial-item">
                  <blockquote>{{ testimonial.review }}</blockquote>
                  <figcaption>{{ testimonial.name }}</figcaption>
                </figure>
                {% empty %}
                <figure class="tm-testimonial-item">
                  <blockquote>No testimonials available yet.</blockquote>
                  <figcaption>-</figcaption>
                </figure>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="tm-bg-overlay"></div>
    </section>
    
    <section id="gallery" class="tm-section-pad-top">
      <div class="container tm-container-gallery">
        <div class="row">
          <div class="text-center col-12">
              <h2 class="tm-text-primary tm-section-title mb-4">Gallery</h2>
              <p class="mx-auto tm-section-desc">
                "Explore our portfolio to see how we bring design ideas to life. From elegant living spaces to functional commercial interiors, each project reflects our commitment to quality, creativity, and client satisfaction."
              </p>
          </div>            
        </div>
        <div class="row">
            <div class="col-12">
                <div class="mx-auto tm-gallery-container">
                    <div class="grid tm-gallery">
                      {% for image in gallery_images %}
                      <a href="{{ image.image.url }}" class="tm-gallery-link">
                        <figure class="effect-honey tm-gallery-item">
                          <img src="{{ image.image.url }}" alt="{{ image.title }}" class="img-fluid">
                          <figcaption>
                            <h2><i>{{ image.title }}</i></h2>
                          </figcaption>
                        </figure>
                      </a>
                      {% empty %}
                      <div class="text-center w-100">
                        <p>No images available yet.</p>
                      </div>
                      {% endfor %}
                    </div>
                </div>                
            </div>        
          </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="tm-section-pad-top tm-parallax-2">
    
      <div class="container tm-container-contact">
        
        <div class="row">
            
            <div class="text-center col-12">
                <h2 class="tm-section-title mb-4">Contact Us</h2>
                <p class="mb-5">
                  "We'd love to hear from you! Whether you're planning a new construction project, redesigning your interiors, or need custom wardrobe and partition solutions, our team is here to help. Get in touch with us today."
                </p><br>
            </div>
                    
            <div class="col-sm-12 col-md-6">
          <form action="{% url 'contact' %}" method="POST">
            {% if messages %}
            {% for message in messages %}
              <div class="alert alert-success mt-3">{{ message }}</div>
            {% endfor %}
          {% endif %}
            {% csrf_token %}
            <input id="name" name="name" type="text" placeholder="Your Name" class="tm-input" required />
            <input id="email" name="email" type="email" placeholder="Your Email" class="tm-input" required />
            <textarea id="message" name="message" rows="8" placeholder="Message" class="tm-input" required></textarea>
            <button type="submit" class="btn tm-btn-submit">Submit</button>
          </form>
        </div>

            
            <div class="col-sm-12 col-md-6">
                
                <div class="contact-item">
                  <a rel="nofollow" href="mailto:subashbuildanddesignstudio@gmail.com" class="item-link">
    <i class="far fa-2x fa-envelope mr-4"></i>
    <span class="mb-0">subashbuildanddesignstudio@gmail.com</span>
</a>             
                </div>
                
                <div class="contact-item">
                  <a rel="nofollow" href="" class="item-link">
                      <i class="fas fa-2x fa-map-marker-alt mr-4"></i>
                      <span class="mb-0">1/15,17 th Street, B -sector, Siva Sakthi  Nagar, Annanur, Chennai-6000062</span>
                  </a>              
                </div>
                
                <div class="contact-item">
                  <a rel="nofollow" href="tel:7550180554" class="item-link">
                      <i class="fas fa-2x fa-phone-square mr-4"></i>
                      <span class="mb-0">7550180554</span>
                  </a>              
                </div>
                
                 <div class="contact-item">
                <a href="https://wa.me/917550180554" target="_blank" class="item-link">
                  <i class="fab fa-2x fa-whatsapp mr-4"></i>
                  <span class="mb-0">7550180554</span>
                </a>
              </div>
              <div class="contact-item">
                <a href="" target="_blank" class="item-link mr-3">
                  <i class="fab fa-2x fa-instagram mr-4"></i>
                  <span class="mb-0">  </span>
                </a>
              </div>

                <div class="contact-item">&nbsp;</div>
            
            </div>
            
            
        </div>
        
      </div>

      	<footer class="text-center small tm-footer">
          <p class="mb-0">
          Copyright &copy; 2025 SUBASH BUILD AND DESIGN 
          
          . <a rel="nofollow" href="" title="HTML  s">Designed by upmtechnologies</a></p>
        </footer>

    </section>   
    <script src="{% static 'js/jquery-1.9.1.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'slick/slick.min.js' %}"></script>
    <script src="{% static 'magnific-popup/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'js/easing.min.js' %}"></script>
    <script src="{% static 'js/jquery.singlePageNav.min.js' %}"></script>   
<script>
  // Prevent default zoom behavior
  document.addEventListener('touchmove', function (event) {
    if (event.scale !== 1) { event.preventDefault(); }
  }, { passive: false });

  document.addEventListener('gesturestart', function (e) {
    e.preventDefault();
  });

  function getOffSet(){
    var _offset = 450;
    var windowHeight = window.innerHeight;

    if(windowHeight > 500) {
      _offset = 400;
    } 
    if(windowHeight > 680) {
      _offset = 300
    }
    if(windowHeight > 830) {
      _offset = 210;
    }
    return _offset;
  }

  function setParallaxPosition($doc, multiplier, $object){
    var offset = getOffSet();
    var from_top = $doc.scrollTop(),
        bg_css = 'center ' +(multiplier * from_top - offset) + 'px';
    $object.css({"background-position" : bg_css });
  }

  // Parallax
  var background_image_parallax = function($object, multiplier, forceSet){
    multiplier = typeof multiplier !== 'undefined' ? multiplier : 0.5;
    multiplier = 1 - multiplier;
    var $doc = $(document);

    if(forceSet) {
      setParallaxPosition($doc, multiplier, $object);
    } else {
      $(window).scroll(function(){          
        setParallaxPosition($doc, multiplier, $object);
      });
    }
  };

  var background_image_parallax_2 = function($object, multiplier){
    multiplier = typeof multiplier !== 'undefined' ? multiplier : 0.5;
    multiplier = 1 - multiplier;
    var $doc = $(document);
    $object.css({"background-attachment" : "fixed"});
    
    $(window).scroll(function(){
      if($(window).width() > 768) {
        var firstTop = $object.offset().top,
            pos = $(window).scrollTop(),
            yPos = Math.round((multiplier * (firstTop - pos)) - 186);              

        var bg_css = 'center ' + yPos + 'px';
        $object.css({"background-position" : bg_css });
      } else {
        $object.css({"background-position" : "center" });
      }
    });
  };
  
  $(function(){
    // Hero Section Parallax
    background_image_parallax($(".tm-parallax"), 0.30, false);
    background_image_parallax_2($("#contact"), 0.80);   
    background_image_parallax_2($("#testimonials"), 0.80);   
    
    // Window resize
    window.addEventListener('resize', function(){
      background_image_parallax($(".tm-parallax"), 0.30, true);
    }, true);

    // Navbar scroll effect
    $(window).scroll(function(){          
      if($(document).scrollTop() > 120) {
        $('.tm-navbar').addClass("scroll");
      } else {
        $('.tm-navbar').removeClass("scroll");
      }
    });
    
    // Mobile dropdown toggle - custom handler
    if ($(window).width() <= 767) {
      $('.dropdown-toggle').on('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        var $parent = $(this).parent();
        $parent.toggleClass('show');
        $(this).next('.dropdown-menu').toggleClass('show');
      });
      
      // Dropdown item click - navigate to page
      $('.dropdown-item').on('click', function(e) {
        e.stopPropagation();
        // Allow normal link behavior
        window.location.href = $(this).attr('href');
      });
    }
    
    // Close mobile menu after clicking non-dropdown links
    $('#tmNav a.nav-link:not(.dropdown-toggle)').on('click', function(){
      $('.navbar-collapse').removeClass('show'); 
    });

    // Smooth scrolling for same-page links only
    $('#tmNav').singlePageNav({
      'easing': 'easeInOutExpo',
      'speed': 600,
      filter: ':not(.dropdown-item):not(.dropdown-toggle)'
    });        

    // Smooth scroll for anchor links (not external pages)
    $("a[href^='#']").on('click', function(event) {
      if (this.hash !== "") {
        event.preventDefault();
        var hash = this.hash;
        $('html, body').animate({
          scrollTop: $(hash).offset().top
        }, 600, 'easeInOutExpo', function(){
          window.location.hash = hash;
        });
      }
    });

    // Magnific Popup for Gallery
    $('.tm-gallery').magnificPopup({
      delegate: 'a.tm-gallery-link',
      type: 'image',
      gallery: { 
        enabled: true,
        navigateByImgClick: true,
        preload: [0,1]
      },
      image: {
        titleSrc: function(item) {
          return item.el.find('img').attr('alt');
        }
      }
    });

    // Testimonials carousel - infinite loop
    $('.tm-testimonials-carousel').slick({
      dots: true,
      arrows: false,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 3000,
      slidesToShow: 3,
      slidesToScroll: 1,
      responsive: [
        { breakpoint: 992, settings: { slidesToShow: 2 } },
        { breakpoint: 768, settings: { slidesToShow: 1 } }, 
        { breakpoint: 480, settings: { slidesToShow: 1 } }
      ]
    });

    // Gallery carousel - infinite loop
    $('.tm-gallery').slick({
      dots: false,
      arrows: true,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 3000,
      slidesToShow: 5,
      slidesToScroll: 1,
      responsive: [
        { breakpoint: 1199, settings: { slidesToShow: 4, slidesToScroll: 1 } },
        { breakpoint: 991, settings: { slidesToShow: 3, slidesToScroll: 1 } },
        { breakpoint: 767, settings: { slidesToShow: 2, slidesToScroll: 1 } },
        { breakpoint: 480, settings: { slidesToShow: 1, slidesToScroll: 1 } }
      ]
    });
  });
</script>

  </body>
</html>