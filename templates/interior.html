{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Interior Design - SUBASH BUILD AND DESIGN</title>
  <link rel="stylesheet" href="{% static 'fontawesome-5.5/css/all.min.css' %}" />
  <link rel="stylesheet" href="{% static 'slick/slick.css' %}">
  <link rel="stylesheet" href="{% static 'slick/slick-theme.css' %}">
  <link rel="stylesheet" href="{% static 'magnific-popup/magnific-popup.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
  <link rel="stylesheet" href="{% static 'css/tooplate-infinite-loop.css' %}" />
  <style>
    /* Prevent zoom */
    html {
      touch-action: manipulation;
    }

    /* Ensure navbar text is always visible */
    .tm-navbar .nav-link {
      color: #fff !important;
      opacity: 1 !important;
    }

    .tm-navbar.scroll .nav-link {
      color: #369 !important;
    }

    .tm-navbar .navbar-brand {
      color: #fff !important;
      opacity: 1 !important;
    }

    .tm-navbar.scroll .navbar-brand {
      color: #369 !important;
    }

    /* Dropdown Menu Styling */
    .dropdown-menu {
      background-color: #fff;
      border: 1px solid #e9ecef;
      border-radius: 5px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .dropdown-item {
      color: #369;
      padding: 10px 20px;
      transition: all 0.3s ease;
    }

    .dropdown-item:hover {
      background-color: #369;
      color: #fff;
    }

    .tm-navbar.scroll .dropdown-menu {
      background-color: #fff;
    }

    /* Ensure dropdown toggle is visible and clickable */
    .dropdown-toggle::after {
      display: inline-block;
      margin-left: 0.255em;
      vertical-align: 0.255em;
      content: "";
      border-top: 0.3em solid;
      border-right: 0.3em solid transparent;
      border-bottom: 0;
      border-left: 0.3em solid transparent;
    }

    /* Mobile Navigation Fixes */
    @media (max-width: 767px) {
      /* Fix navbar toggler position */
      .navbar-toggler {
        position: absolute;
        right: 15px;
        top: 15px;
        z-index: 1000;
        border-color: #fff;
      }

      .navbar-toggler-icon {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
      }

      .navbar-collapse {
        background-color: rgba(255, 255, 255, 0.98);
        padding: 15px;
        border-radius: 5px;
        margin-top: 10px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      }
      
      .navbar-collapse .nav-link {
        color: #369 !important;
        padding: 12px 20px !important;
        border-bottom: 1px solid #e9ecef;
      }
      
      .navbar-collapse .nav-link:hover {
        background-color: #369 !important;
        color: #fff !important;
      }
      
      .navbar-collapse .nav-item:last-child .nav-link {
        border-bottom: none;
      }

      /* Mobile Dropdown */
      .dropdown-menu {
        background-color: #f8f9fa;
        border: none;
        box-shadow: none;
        padding-left: 20px;
      }

      .dropdown-item {
        padding: 8px 20px;
        font-size: 0.95rem;
        color: #369 !important;
      }

      /* Hero text responsive */
      .tm-hero-title {
        font-size: 2rem !important;
      }
      
      .tm-hero-subtitle {
        font-size: 1rem !important;
      }

      /* Section titles */
      .tm-section-title {
        font-size: 1.8rem !important;
      }

      /* Contact form */
      .tm-input {
        width: 100% !important;
      }

      .tm-btn-submit {
        width: 100% !important;
      }

      /* Gallery items spacing */
      .tm-gallery-item {
        margin: 10px 0 !important;
      }

      /* Contact info text */
      .contact-item .item-link span {
        font-size: 0.9rem;
      }
    }

    /* Ensure gallery images are responsive */
    .tm-gallery-item img {
      width: 100%;
      height: auto;
      object-fit: cover;
    }

    /* Fix for slick slider on mobile */
    @media (max-width: 480px) {
      .slick-slide {
        padding: 0 5px;
      }
    }
  </style>
</head>
<body>
  <!-- Hero Section -->
  <section id="infinite" class="text-white tm-font-big tm-parallax">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-md tm-navbar" id="tmNav">
      <div class="container">
        <div class="tm-next">
          <a href="{% url 'index' %}" class="navbar-brand">SUBASH BUILD AND DESIGN</a>
        </div>

        <button class="navbar-toggler" type="button" data-toggle="collapse" 
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" 
                aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link tm-nav-link" href="{% url 'index' %}">Home</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link tm-nav-link dropdown-toggle" href="#" id="navbarDropdown"
                 role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                What We Do
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="{% url 'interior' %}">Interior Design</a>
                <a class="dropdown-item" href="{% url 'sliding' %}">Sliding Systems</a>
              </div>
            </li>
            <li class="nav-item"><a class="nav-link tm-nav-link" href="{% url 'index' %}#testimonials">Testimonials</a></li>
            <li class="nav-item"><a class="nav-link tm-nav-link" href="#gallery">Gallery</a></li>
            <li class="nav-item"><a class="nav-link tm-nav-link" href="#contact">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hero Text -->
    <div class="text-center tm-hero-text-container">
      <div class="tm-hero-text-container-inner">
        <h2 class="tm-hero-title">Interior Design</h2>
        <p class="tm-hero-subtitle">Elegant • Functional • Modern</p>
      </div>
    </div>
  </section>

  <!-- Gallery Section -->
  <section id="gallery" class="tm-section-pad-top">
    <div class="container tm-container-gallery">
      <div class="row">
        <div class="text-center col-12">
          <h2 class="tm-text-primary tm-section-title mb-4">Our Interior Projects</h2>
          <p class="mx-auto tm-section-desc">
            "Explore our completed interior projects showcasing wardrobes, kitchens, TV units, and elegant storage designs. Each project combines functionality with modern style."
          </p>
        </div>            
      </div>
      <div class="row">
        <div class="col-12">
          <div class="mx-auto tm-gallery-container">
            <div class="grid tm-gallery">
              
              {% for image in gallery_images %}
              <a href="{{ image.image.url }}" class="tm-gallery-item">
                <figure class="effect-honey">
                  <img src="{{ image.image.url }}" alt="{{ image.title }}" class="img-fluid">
                  <figcaption><h2><i>{{ image.title }}</i></h2></figcaption>
                </figure>
              </a>
              {% empty %}
              <p class="text-center">No interior images available yet.</p>
              {% endfor %}

            </div>
          </div>                
        </div>        
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="tm-section-pad-top tm-parallax-2">
    <div class="container tm-container-contact">
      <div class="row">
        <div class="text-center col-12">
          <h2 class="tm-section-title mb-4">Contact Us</h2>
          <p class="mb-5">We'd love to hear about your interior design project. Get in touch today!</p><br>
        </div>
        <div class="col-sm-12 col-md-6">
          <form action="{% url 'contact' %}" method="POST">
            {% csrf_token %}
            <input id="name" name="name" type="text" placeholder="Your Name" class="tm-input" required />
            <input id="email" name="email" type="email" placeholder="Your Email" class="tm-input" required />
            <textarea id="message" name="message" rows="8" placeholder="Message" class="tm-input" required></textarea>
            <button type="submit" class="btn tm-btn-submit">Submit</button>
          </form>
        </div>
        <div class="col-sm-12 col-md-6">
          <div class="contact-item">
            <a href="mailto:subashbuildanddesignstudio@gmail.com" class="item-link">
              <i class="far fa-2x fa-envelope mr-4"></i>
              <span>subashbuildanddesignstudio@gmail.com</span>
            </a>
          </div>
          <div class="contact-item">
            <a href="" class="item-link">
              <i class="fas fa-2x fa-map-marker-alt mr-4"></i>
              <span>1/15, 17th Street, B-Sector, Siva Sakthi Nagar, Annanur, Chennai-600062</span>
            </a>
          </div>
          <div class="contact-item">
            <a href="tel:7550180554" class="item-link">
              <i class="fas fa-2x fa-phone-square mr-4"></i>
              <span>7550180554</span>
            </a>
          </div>
          <div class="contact-item">
            <a href="https://wa.me/917550180554" target="_blank" class="item-link">
              <i class="fab fa-2x fa-whatsapp mr-4"></i>
              <span>7550180554</span>
            </a>
          </div>
          <div class="contact-item">
            <a href="" target="_blank" class="item-link">
              <i class="fab fa-2x fa-instagram mr-4"></i>
              <span>  </span>
            </a>
          </div>
        </div>
      </div>
    </div>
    <footer class="text-center small tm-footer">
      <p class="mb-0">
        Copyright &copy; 2025 SUBASH BUILD AND DESIGN 
        . <a rel="nofollow" href="#">Designed by upmtechnologies</a>
      </p>
    </footer>
  </section>

  <!-- Scripts -->
  <script src="{% static 'js/jquery-1.9.1.min.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'slick/slick.min.js' %}"></script>
  <script src="{% static 'magnific-popup/jquery.magnific-popup.min.js' %}"></script>
  <script src="{% static 'js/easing.min.js' %}"></script>
  <script src="{% static 'js/jquery.singlePageNav.min.js' %}"></script>

  <script>
    $(function(){
      // Close mobile menu after click 
      $('#tmNav a').on('click', function(){
        // Don't close if it's a dropdown toggle
        if(!$(this).hasClass('dropdown-toggle')) {
          $('.navbar-collapse').removeClass('show'); 
        }
      });

      // Handle dropdown item clicks - allow navigation
      $('.dropdown-item').on('click', function(e){
        // Let the browser handle the navigation normally
        $('.navbar-collapse').removeClass('show');
      });

      // Navbar scroll effect
      $(window).scroll(function(){          
        if($(document).scrollTop() > 120) {
          $('.tm-navbar').addClass("scroll");
        } else {
          $('.tm-navbar').removeClass("scroll");
        }
      });

      // Magnific Popup
      $('.tm-gallery').magnificPopup({
        delegate: 'a',
        type: 'image',
        gallery: { enabled: true }
      });

      // Gallery carousel
      $('.tm-gallery').slick({
        dots: false,
        infinite: true,
        slidesToShow: 5,
        slidesToScroll: 2,
        responsive: [
          { breakpoint: 1199, settings: { slidesToShow: 4, slidesToScroll: 2 } },
          { breakpoint: 991, settings: { slidesToShow: 3, slidesToScroll: 2 } },
          { breakpoint: 767, settings: { slidesToShow: 2, slidesToScroll: 1 } },
          { breakpoint: 480, settings: { slidesToShow: 1, slidesToScroll: 1 } }
        ]
      });
    });
  </script>
</body>
</html>